<!DOCTYPE html>
  <head>
    <title>Blogue do Caloni</title>
    <meta http-equiv="content-type" content="text/html; charset=utf8">
  </head>

  <body style="min-height:100vh;display:flex;flex-direction:column">

    <section class="section" style="flex:1">

      <div class="container">
        <div class="columns">

          <div class="column">

            <h2 id="begin" style="page-break-before: always;">Índices</h2>
            <ul>
              <li><a href="#idx">Alfabético</a></li>
              <ul>
                <li>{{ $letters := split "ABCDEFGHIJKLMNOPQRSTUVWXYZ" "" }}
                  {{ range $letters }}
                    <a href="#letter{{ . }}">{{ . }}</a>
                  {{ end }}
                </li>
              </ul>
              <li><a href="#cat">Tags</a></li>
              <ul>
                {{ range $key, $value := .Site.Taxonomies.tags }}
	               <li><a href="#{{ $key }}">{{ $key | humanize }}({{ len $value }})</a></li>
                {{ end }}
              </ul>
              <li><a href="#posts">Data (ir para Conteúdo)</a></li>
              <ul>
                {{ range .Site.RegularPages }}
                    <li><a href="#{{ .UniqueID }}">{{ .Title }} </a></li>
                {{ end }}
              </ul>
            </ul>

            <h2 id="idx" style="page-break-before: always;">Índice Alfabético</h2>
            <ul>
            <!-- create a list with all uppercase letters -->
            {{ $letters := split "ABCDEFGHIJKLMNOPQRSTUVWXYZ" "" }}
            <!-- range all pages sorted by their title -->
            {{ range .Data.Pages.ByTitle }}
              <!-- get the first character of each title. Assumes that the title is never empty! -->
              {{ $firstChar := substr .Title 0 1 | upper }}
              <!-- in case $firstChar is a letter -->
              {{ if $firstChar | in $letters }}
                <!-- get the current letter -->
                {{ $curLetter := $.Scratch.Get "curLetter" }}
                <!-- if $curLetter isn't set or the letter has changed -->
                {{ if ne $firstChar $curLetter }}
                  <!-- update the current letter and print it -->
                  {{ $.Scratch.Set "curLetter" $firstChar }}
                  <h3 id="letter{{ $firstChar }}">{{ $firstChar }}</h3>
                {{ end }}
                <li><a href="#{{ .UniqueID }}">{{ .Title }}</a></li>
              {{ end }}
            {{ end }}
            </ul>
            <h2 id="cat" style="page-break-before: always;">Índice por Tags</h2>
            <ul>
            {{ range $taxonomyname, $taxonomy := .Site.Taxonomies }}
              {{ if eq "tags" $taxonomyname }}
                {{ range $key, $value := $taxonomy }}
                  <h3 id="{{ $key }}">{{ $key | humanize }}</h3>
                    <ul>
                      {{ range $value.Pages }}
                        <li><a href="#{{ .UniqueID }}">{{ .Title }} </a></li>
                      {{ end }}
                    </ul>
                {{ end }}
              {{ end }}
            {{ end }}
            </ul>
            <h2 id="posts" style="page-break-before: always;">Conteúdo</h2>
            {{ range .Site.RegularPages }}
              <h3 style="page-break-before: always" id="{{ .UniqueID }}">{{ .Title }}</h3> {{ dateFormat "2006-01-02" .Date }} {{ .Content }}
              {{ partial "taglist.html" . }}
            {{ end }}

            </div>

            <br>
            <br>
            <br>

          </div>

        </div>
      </div>

    </section>

  </body>

</html>
